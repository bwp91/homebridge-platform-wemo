{
  "pluginAlias": "BelkinWeMo",
  "pluginType": "platform",
  "customUi": true,
  "customUiPath": "./lib/homebridge-ui",
  "headerDisplay": "<p align=\"center\"><img width=\"60%\" src=\"https://user-images.githubusercontent.com/43026681/101325568-e03ddb00-3863-11eb-8b66-54c6a322840a.png\"></p><p align=\"center\">For help and support please visit our <a href=\"https://github.com/bwp91/homebridge-platform-wemo/wiki\">GitHub Wiki</a>. We hope you find this plugin useful!</p>",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "default": "Wemo"
      },
      "discoveryInterval": {
        "type": "number",
        "title": "Discovery Interval",
        "description": "An interval (in seconds) in which the plugin will attempt to discover devices on your network. Set to 0 to disable discovery.",
        "placeholder": 30,
        "minimum": 0,
        "maximum": 600
      },
      "disableDiscovery": {
        "type": "boolean"
      },
      "disableDeviceLogging": {
        "type": "boolean",
        "title": "Disable Device Logging",
        "description": "If checked, device updates will not be added to the log."
      },
      "debug": {
        "title": "Debug Logging",
        "type": "boolean",
        "description": "If checked, more information will be added to the log."
      },
      "disablePlugin": {
        "type": "boolean",
        "title": "Disable Plugin",
        "description": "If checked, the plugin will remove all accessories and not load the plugin on restart."
      },
      "outletAsSwitch": {
        "type": "string",
        "title": "Outlet As Switch",
        "description": "A list of outlet devices (except Insight) to show as switches by serial number. For example 221000A0000C2B or multiple separated by a comma."
      },
      "noMotionTimer": {
        "type": "number",
        "title": "No Motion Timer",
        "description": "A timer (in seconds) for how long after motion is not detected that the state is changed. Applies only to Wemo Motion.",
        "placeholder": 60,
        "minimum": 0
      },
      "removeByName": {
        "type": "string",
        "title": "Remove By Name",
        "description": "A list of devices to remove from the cache by name. For example My Lights or multiple separated by a comma."
      },
      "doorOpenTimer": {
        "type": "number"
      },
      "manualDevices": {
        "type": "array",
        "items": {
          "type": "string",
          "title": "Device URL",
          "placeholder": "http://192.168.1.20:49153/setup.xml",
          "description": "Port is usually 49153 but can sometimes be 49152 or 49154."
        }
      },
      "ignoredDevices": {
        "title": "Ignored Devices",
        "type": "array",
        "items": {
          "type": "string",
          "title": "Serial Number",
          "description": "The serial number of the device that should be ignored. If you wish to ignore a bulb connected through a Wemo Link, please use the device ID of the bulb and not the serial number of the Wemo Link."
        }
      },
      "makerTypes": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "serialNumber": {
              "type": "string",
              "title": "Maker Serial Number",
              "description": "Serial number of the Wemo Maker."
            },
            "makerType": {
              "type": "string",
              "title": "Type",
              "description": "How this Wemo Maker should appear.",
              "oneOf": [
                {
                  "title": "Garage Door",
                  "enum": [
                    "garageDoor"
                  ]
                },
                {
                  "title": "Switch (with contact sensor if exists)",
                  "enum": [
                    "switch"
                  ]
                }
              ]
            },
            "makerTimer": {
              "type": "number",
              "title": "Open/Close Time",
              "description": "The time in seconds for how long it takes the garage door to open/close.",
              "placeholder": 20,
              "minimum": 1,
              "maximum": 120
            }
          }
        }
      },
      "wemoClient": {
        "type": "object",
        "properties": {
          "listen_interface": {
            "type": "string"
          },
          "port": {
            "type": "integer"
          },
          "discover_opts": {
            "type": "object",
            "properties": {
              "interfaces": {
                "type": "string"
              },
              "explicitSocketBind": {
                "type": "boolean"
              }
            }
          }
        }
      }
    }
  },
  "layout": [
    {
      "type": "fieldset",
      "title": "Optional Settings",
      "expandable": true,
      "items": [
        "discoveryInterval",
        "disableDeviceLogging",
        "debug",
        "disablePlugin"
      ]
    },
    {
      "type": "fieldset",
      "title": "Device Settings",
      "expandable": true,
      "items": [
        "outletAsSwitch",
        "noMotionTimer",
        "removeByName"
      ]
    },
    {
      "key": "manualDevices",
      "expandable": true,
      "title": "Manual Devices",
      "add": "Add Another Device",
      "type": "array",
      "items": [
        {
          "type": "fieldset",
          "items": [
            "manualDevices[]"
          ]
        }
      ]
    },
    {
      "key": "ignoredDevices",
      "expandable": true,
      "title": "Ignored Devices",
      "add": "Add Another Device",
      "type": "array",
      "items": [
        {
          "type": "fieldset",
          "items": [
            "ignoredDevices[]"
          ]
        }
      ]
    },
    {
      "key": "makerTypes",
      "expandable": true,
      "title": "Wemo Makers",
      "add": "Add Another Device",
      "type": "array",
      "items": [
        {
          "type": "fieldset",
          "items": [
            "makerTypes[].serialNumber",
            "makerTypes[].makerType",
            "makerTypes[].makerTimer"
          ]
        }
      ]
    }
  ]
}
